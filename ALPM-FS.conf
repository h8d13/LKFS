# ALPM-FS Configuration File
# Bootable Alpine Linux System Configuration

# ============================================
# Filesystem Configuration
# ============================================

# Root filesystem type (ext4, xfs, btrfs, f2fs)
ROOT_FS_TYPE="ext4"

# Root filesystem mount options
ROOT_FS_OPTS="rw,relatime"

# EFI partition size in MiB
EFI_SIZE=512

# ============================================
# zram Configuration
# ============================================

# zram size in MiB
ZRAM_SIZE=2048

# zram compression algorithm (lzo, lz4, zstd)
ZRAM_ALGO="zstd"

# ============================================
# Boot Configuration
# ============================================

# GRUB timeout in seconds
GRUB_TIMEOUT=1

# GRUB menu entry name
GRUB_MENUENTRY="ALPM-FS"

# Extra kernel command line parameters (console, quiet, etc)
# Note: rootfstype and modules are auto-generated based on ROOT_FS_TYPE
KERNEL_CMDLINE_EXTRA="console=tty0"

# ============================================
# Alpine Repository
# ============================================

# Alpine version (e.g., v3.22, v3.21, edge) (Minor version automatically takes latest)
# WARNING: Needs "edge" to run "linux-stable" (expect some bugs too)
# If this is changed between runs any progress in alpinestein chroot would be lost
ALPINE_VERSION="edge"

# Enable testing repository (contains experimental/newer packages)
# Works with any version, commonly used for packages like vscodium
ENABLE_TESTING="yes"

# Alpine mirror
ALPINE_MIRROR="https://dl-cdn.alpinelinux.org/alpine"

# ============================================
# System Packages
# ============================================
# Core system packages (space-separated)


# x86_64 kernel options:
# linux-lts (Long Term Support, most hardware)

# linux-stable (latest stable kernel) # NEEDS ALPINE_VERSION="edge" enabled

# linux-virt (minimal VM kernel, omits a lot of drivers)
# linux-openpax (OpenPAX security memory patches)

KERNEL_FLAVOR="linux-stable"
CORE_PACKAGES="$KERNEL_FLAVOR linux-firmware-none acpi mkinitfs"

# ============================================
# PKGS
# ============================================

# Boot packages
BOOT_PACKAGES="grub grub-efi efibootmgr"

# System utilities
SYSTEM_PACKAGES="openrc openrc-init util-linux coreutils e2fsprogs dosfstools"

# Additional packages
EXTRA_PACKAGES="acpid busybox-openrc busybox-extras busybox-mdev-openrc alpine-conf kbd-bkeymaps kbd zram-init dhcpcd iptables"

# ============================================
# Boot Services
# ============================================

# Services to add to sysinit runlevel (space-separated)
SERVICES_SYSINIT="devfs dmesg mdev"

# Services to add to boot runlevel
SERVICES_BOOT="hwclock modules sysctl hostname bootmisc syslog localmount zram-init"

# Services to add to shutdown runlevel
SERVICES_SHUTDOWN="mount-ro killprocs savecache"

# Services to add to default runlevel
SERVICES_DEFAULT="acpid networking"

# ============================================
# User Configuration
# ============================================

# Hostname
HOSTNAME="alpmfs"

# Default root password
ROOT_PASSWORD="alpine"
